define(["react/jsx-runtime","@arcgis/core/widgets/ElevationProfile","@arcgis/core/widgets/ElevationProfile/ElevationProfileLineGround","@vertigis/web/ui","@vertigis/web/ui/esriUtils","react","@vertigis/web/models","@vertigis/web/branding","@vertigis/web/designer"],((e,t,i,o,n,l,r,a,s)=>(()=>{"use strict";var d={651:(e,t,i)=>{i.r(t),i.d(t,{ElevationProfileModel:()=>v,applySettings:()=>y,default:()=>p,getSettings:()=>w,getSettingsSchema:()=>S});var o=i(308),n=i(680),l=i.n(n),r=i(520),a=i.n(r),s=i(817),d=i(956),g=i(959);const u=(0,d.createEsriMapWidget)(l(),!0,!0);function p(e){const{model:t}=e,{map:i}=t,[n,l]=(0,g.useState)();return(0,s.useWatchAndRerender)(i,["map","isSwitchingViewMode"]),(0,s.useWatchAndRerender)(t,["title","legend","chart","clearButton","settingsButton","sketchButton","selectButton","uniformChartScalingToggle","profileLineGround","profileLineGroundColor"]),(0,g.useEffect)((()=>{n&&(n.label=t.title,n.visibleElements={legend:t.legend,chart:t.chart,clearButton:t.clearButton,settingsButton:t.settingsButton,sketchButton:t.sketchButton,selectButton:t.selectButton,uniformChartScalingToggle:t.uniformChartScalingToggle},n.unit="meters",n.profiles.removeAll(),t.profileLineGround&&n.profiles.add(new(a())({color:t.profileLineGroundColor})))}),[n,t.title,t.profileLineGround,t.legend,t.chart,t.clearButton,t.settingsButton,t.sketchButton,t.selectButton,t.uniformChartScalingToggle,t.profileLineGroundColor]),(0,o.jsx)(u,{onWidgetCreated:l,...e})}var c=i(65),f=function(e,t,i,o){var n,l=arguments.length,r=l<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,i,o);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(l<3?n(r):l>3?n(t,i,r):n(t,i))||r);return l>3&&r&&Object.defineProperty(t,i,r),r};let h=class extends c.ComponentModelBase{map;legend;chart;clearButton;settingsButton;sketchButton;selectButton;uniformChartScalingToggle;profileLineGround;profileLineGroundColor;_getSerializableProperties(){const e=super._getSerializableProperties();return{...e,title:{...this._toPropertyDef(e.title),default:"language-web-incubator-elevation-profile-3d-title"},icon:{...this._toPropertyDef(e.icon),default:"map-3rd-party"},legend:{serializeModes:["initial"],default:!0},chart:{serializeModes:["initial"],default:!0},clearButton:{serializeModes:["initial"],default:!0},settingsButton:{serializeModes:["initial"],default:!0},sketchButton:{serializeModes:["initial"],default:!0},selectButton:{serializeModes:["initial"],default:!0},uniformChartScalingToggle:{serializeModes:["initial"],default:!0},profileLineGround:{serializeModes:["initial"],default:!0},profileLineGroundColor:{serializeModes:["initial"],default:"#ff7f00"}}}};f([(0,c.importModel)("map-extension")],h.prototype,"map",void 0),h=f([c.serializable],h);const v=h;var b=i(568),m=i(622);const y=async e=>{const{model:t,settings:i}=e,{profileLineGroundColor:o,...n}=i;await(0,m.applyComponentModelDesignerSettings)(e);const l=n;o&&(l.profileLineGroundColor=(0,b.toColor)(o)?.toCss()),t.assignProperties(l)},w=async e=>{const{model:t}=e,{legend:i,chart:o,clearButton:n,settingsButton:l,sketchButton:r,selectButton:a,uniformChartScalingToggle:s,profileLineGround:d,profileLineGroundColor:g}=t;return{...await(0,m.getComponentModelDesignerSettings)(e),legend:i,chart:o,clearButton:n,settingsButton:l,sketchButton:r,selectButton:a,uniformChartScalingToggle:s,profileLineGround:d,profileLineGroundColor:(0,b.toColor)(g).toJSON()}},S=async e=>{const t=await(0,m.getComponentModelDesignerSettingsSchema)(e);return t.settings[0].settings=t.settings[0].settings.concat([{id:"legend",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-legend-description",displayName:"language-designer-3d-tools-elevation-profile-legend-title"},{id:"chart",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-chart-description",displayName:"language-designer-3d-tools-elevation-profile-chart-title"},{id:"clearButton",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-clear-button-description",displayName:"language-designer-3d-tools-elevation-profile-clear-button-title"},{id:"settingsButton",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-settings-button-description",displayName:"language-designer-3d-tools-elevation-profile-settings-button-title"},{id:"sketchButton",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-sketch-button-description",displayName:"language-designer-3d-tools-elevation-profile-sketch-button-title"},{id:"selectButton",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-select-button-description",displayName:"language-designer-3d-tools-elevation-profile-select-button-title"},{id:"uniformChartScalingToggle",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-uniform-chart-scaling-toggle-description",displayName:"language-designer-3d-tools-elevation-profile-uniform-chart-scaling-toggle-title"},{id:"profileLineGround",type:"checkbox",description:"language-designer-3d-tools-elevation-profile-profile-line-ground-description",displayName:"language-designer-3d-tools-elevation-profile-profile-line-ground-title"},{id:"profileLineGroundColor",type:"color",displayName:"language-designer-3d-tools-elevation-profile-profile-line-ground-color-title",description:"language-designer-3d-tools-elevation-profile-profile-line-ground-color-description",isVisible:e=>e.profileLineGround}]),{...t,settings:[...t.settings]}}},680:e=>{e.exports=t},520:e=>{e.exports=i},568:e=>{e.exports=a},622:e=>{e.exports=s},65:e=>{e.exports=r},817:e=>{e.exports=o},956:e=>{e.exports=n},959:e=>{e.exports=l},308:t=>{t.exports=e}},g={};function u(e){var t=g[e];if(void 0!==t)return t.exports;var i=g[e]={exports:{}};return d[e](i,i.exports,u),i.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var i in t)u.o(t,i)&&!u.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var p={};u.r(p),u.d(p,{default:()=>h});const c=JSON.parse('{"language-web-incubator-common-clear":"Clear","language-web-incubator-elevation-profile-3d-title":"Elevation Profile","language-web-incubator-elevation-profile-3d-description":"The ElevationProfile component is used to generate and display an elevation profile from an input line graphic.","language-designer-3d-tools-elevation-profile-legend-description":"When disabled, the legend (which includes statistics) is not displayed.","language-designer-3d-tools-elevation-profile-legend-title":"Show Widget Legend","language-designer-3d-tools-elevation-profile-chart-description":"When disabled, the chart is not displayed.","language-designer-3d-tools-elevation-profile-chart-title":"Show Widget Chart","language-designer-3d-tools-elevation-profile-clear-button-description":"When disabled the button used to clear the current elevation profile is not displayed.","language-designer-3d-tools-elevation-profile-clear-button-title":"Show Widget Clear Button","language-designer-3d-tools-elevation-profile-settings-button-description":"When disabled, the button used to open the settings popup is not displayed.","language-designer-3d-tools-elevation-profile-settings-button-title":"Show Widget Settings Button","language-designer-3d-tools-elevation-profile-sketch-button-description":"When disabled, the button used to start drawing/sketching is not displayed.","language-designer-3d-tools-elevation-profile-sketch-button-title":"Show Widget Sketch Button","language-designer-3d-tools-elevation-profile-select-button-description":"When disabled, the button used to select a path is not displayed.","language-designer-3d-tools-elevation-profile-select-button-title":"Show Widget Select Button","language-designer-3d-tools-elevation-profile-uniform-chart-scaling-toggle-description":"When disabled, the element used to toggle uniform chart scaling on or off is not displayed.","language-designer-3d-tools-elevation-profile-uniform-chart-scaling-toggle-title":"Show Widget Uniform Chart Scaling","language-designer-3d-tools-elevation-profile-profile-line-ground-description":"Profile line which samples elevation from the Ground of the Map currently set in the View.","language-designer-3d-tools-elevation-profile-profile-line-ground-title":"Use Ground Line Profile ","language-designer-3d-tools-elevation-profile-profile-line-input-description":"Profile line which samples elevation from a custom elevation source, for example by creating a new ElevationLayer, or by using an elevation layer from ground.layers.","language-designer-3d-tools-elevation-profile-profile-line-input-title":"Use Line Input Profile","language-designer-3d-tools-elevation-profile-profile-line-view-description":"Profile line which samples elevation directly from the SceneView.","language-designer-3d-tools-elevation-profile-profile-line-view-title":"Use Line View Profile","language-designer-3d-tools-elevation-profile-profile-line-ground-color-title":"Ground Line Profile Color","language-designer-3d-tools-elevation-profile-profile-line-ground-color-description":"Color of the line on the chart and in the view.","language-designer-3d-tools-elevation-profile-profile-line-input-color-title":"Line Input Profile Color","language-designer-3d-tools-elevation-profile-profile-line-input-color-description":"Color of the line on the chart and in the view.","language-designer-3d-tools-elevation-profile-profile-line-view-color-title":"Line View Profile Color","language-designer-3d-tools-elevation-profile-profile-line-view-color-description":"Color of the line on the chart and in the view."}'),f=()=>Promise.resolve().then(u.bind(u,651));function h(e){e.registerModel({getModel:async e=>new((await f()).ElevationProfileModel)(e),itemType:"elevation-profile-3d"}),e.registerComponent({name:"elevation-profile-3d",namespace:"vertigis.web.incubator",getComponentType:async()=>(await f()).default,getDesignerSettings:async e=>(await f()).getSettings(e),applyDesignerSettings:async e=>(await f()).applySettings(e),getDesignerSettingsSchema:async e=>(await f()).getSettingsSchema(e),category:"map",itemType:"elevation-profile-3d",title:"language-web-incubator-elevation-profile-3d-title",description:"language-web-incubator-elevation-profile-3d-description",iconId:"map-3rd-party"}),e.registerLanguageResources({locale:"inv",values:c}),e.registerLanguageResources({locale:"en",values:c})}return p})()));